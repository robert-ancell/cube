{
  "imports": [
    {
       "github": "robert-ancell/cube-json",
       "url": "https://github.com/robert-ancell/cube.git",
       "path": "./packages/cube-json",
       "ref": "main",
       "modules": [
         "json"
       ]
    }
  ],

  "modules": {
    "array": {
      "sources": [
        "modules/array/pointer_array.c",
        "modules/array/string_array.c"
      ],
      "include-directories": [
        "modules/array/include"
      ],
      "modules": [
        "string"
      ]
    },
    "map": {
      "sources": [
        "modules/map/pointer_map.c",
        "modules/map/string_map.c"
      ],
      "include-directories": [
        "modules/map/include"
      ],
      "modules": [
        "string"
      ]
    },
    "string": {
      "sources": [
        "modules/string/string_builder.c",
        "modules/string/string_functions.c",
        "modules/string/utf8.c"
      ],
      "include-directories": [
        "modules/string/include"
      ],
      "modules": [
        "array"
      ]
    },
    "path": {
      "sources": [
        "modules/path/path_functions.c"
      ],
      "include-directories": [
        "modules/path/include"
      ],
      "modules": [
        "string"
      ]
    },
    "json": {
      "sources": [
        "modules/json/json_parser.c",
        "modules/json/json_value.c"
      ],
      "modules": [
        "array"
      ],
      "include-directories": [
        "modules/json/include"
      ]
    },
    "fd": {
      "sources": [
        "modules/fd/fd.c"
      ],
      "include-directories": [
        "modules/fd/include"
      ]
    },
    "main_loop": {
      "sources": [
        "modules/main_loop/main_loop.c"
      ],
      "modules": [
        "fd"
      ],
      "include-directories": [
        "modules/main_loop/include"
      ]
    },
    "socket": {
      "sources": [
        "modules/socket/ipv4_address.c",
        "modules/socket/ipv4_socket.c",
        "modules/socket/ipv6_address.c",
        "modules/socket/ipv6_socket.c",
        "modules/socket/unix_socket.c"
      ],
      "modules": [
      ],
      "include-directories": [
        "modules/socket/include"
      ]
    }
  },

  "programs": [
    {
      "name": "cube",
      "sources": [
        "src/cube_command.c",
        "src/cube_command_array.c",
        "src/cube_command_runner.c",
        "src/cube_define.c",
        "src/cube_define_array.c",
        "src/cube_module.c",
        "src/cube_module_array.c",
        "src/cube_program.c",
        "src/cube_program_array.c",
        "src/cube_project.c",
        "src/cube_project_loader.c",
        "src/main.c"
      ],
      "modules": [
        "array",
        "json",
        "path",	
        "string"
      ],
      "defines": { "FOO": "BAR" },
      "libraries": [ "m" ]
    },
    {
      "name": "socket-server",
      "sources": [
         "examples/socket_server.c"
      ],
      "modules": [
        "socket"
      ]
    },
    {
      "name": "socket-client",
      "sources": [
         "examples/socket_client.c"
      ],
      "modules": [
        "socket"
      ]
    }
  ]
}
